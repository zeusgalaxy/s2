@(id: Long, form: Form[PersonEdit])(implicit rq: security.CtxRqst[_], flash: Flash)

@main( if(id == -1L) {"useradd.title"} else {"useredit.title"}, 'userEdit) {

    <h1>@Messages( if(id == -1L) "useradd.title" else "useredit.title" )</h1>

    @form.errors.map { error =>
        <p class="alert alert-error">
            <strong>Please correct:</strong> @error.message       @* form.errors.foreach(e => e.message) *@
        </p>
    }

    <div class="row">
        <div class="span8">
        @if(id == -1L) {
            <form action="@routes.MiscController.userAddSubmit()"  method="POST" class="form-horizontal">
          } else {
            <form action="@routes.MiscController.userEditSubmit(id)"  method="POST" class="form-horizontal">
          }

                <fieldset>
                    <legend></legend>

                    <div class="control-group">
                        <label class="control-label" for="portalLogin"></label>
                        <div class="controls">
                            <input type="text" name="portalLogin" id="portalLogin" class="input-xlarge" placeholder="@Messages("useredit.portalLogin")"  value="@form("portalLogin").value">
                            <p class="help-block">@Messages("user.edit.portalLogin.help")</p>
                        </div>
                    </div>

                    <div class="control-group">
                        <label class="control-label" for="firstName"></label>
                        <div class="controls">
                            <input type="text" name="firstName" id="firstName" class="input-xlarge" placeholder="@Messages("useredit.fname")"  value="@form("firstName").value">
                            <p class="help-block"></p>
                        </div>
                    </div>

                    <div class="control-group">
                        <label class="control-label" for="lastName"></label>
                        <div class="controls">
                            <input type="text" name="lastName" id="lastName" class="input-xlarge" placeholder="@Messages("useredit.lname")"  value="@form("lastName").value">
                            <p class="help-block"></p>
                        </div>
                    </div>

                    <div class="control-group">
                        <label class="control-label" for="email"></label>
                        <div class="controls">
                            <input type="email" name="email" id="email" class="input-xlarge" placeholder="@Messages("useredit.email")"  value="@form("email").value">
                            <p class="help-block"></p>
                        </div>
                    </div>

                    <div class="control-group">
                        <label class="control-label" for="password"></label>
                        <div class="controls">
                            @if(id == -1L)  {
                                <input type="password" name="password" id="password" class="input-xlarge" placeholder="@Messages("useredit.password")" >
                            } else {
                                <input type="password" name="password" id="password" class="input-xlarge" placeholder="@Messages("useredit.newpw")" >
                                <p class="help-block">@Messages("useredit.newpwhelp")</p>
                            }
                        </div>
                    </div>

@* TODO: - This should only be shown to Admin users  *@

                    <div class="control-group">
                        @* <label class="control-label" for="optionsCheckboxList">Checkboxes</label>  *@
                        <div class="controls">
                            <label class="checkbox">
                                <input type="checkbox" name="optionsCheckboxList1" value="option1">
                                @Messages("useredit.admin")
                            </label>
                            <p class="help-block">@Messages("useredit.adminhelp")</p>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">@Messages("button.save")</button>
                        <a href="@routes.MiscController.userList()" class="btn">@Messages("button.cancel")</a>
                    </div>

                </fieldset>
            </form>
        </div>
    </div>

}